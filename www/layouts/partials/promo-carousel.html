<div class="ocw-news standard-width container mx-auto">
  {{ $studioBaseUrl := partial "ocw_studio_base_url.html" }}
  {{ if $studioBaseUrl }}
    {{- $url := (print (strings.TrimSuffix "/" $studioBaseUrl) "/api/news/") -}}
    {{/*  <h1>{{$url}}</h1>  */}}
    {{ with resources.GetRemote $url }}
      {{ with .Err }}
        {{ $errorMessage := printf "OCW News on %v failed to fetch %v with error: %v" site.BaseURL $url . }}
        {{ partial "sentry_capture_message.html" $errorMessage }}
      {{ else }}
        {{ $items := (. | unmarshal).items }}
        {{ if $items }}
          <div class="d-flex d-md-none">
            <div class="carousel slide">
              <div class="carousel-header d-flex flex-row justify-content-between font-weight-bold text-uppercase">
                <h2>OCW News</h2>
              </div>
              <div class="news-container">
                <div class="featured-news">
                  <div class="carousel-inner d-flex mt-2 px-0">
                    {{ range $index, $newsItem := (first 4 $items) }}
                      <div class="item-wrapper col-12">
                        <div class="item-{{ $index }}">
                          <img src="{{$newsItem.image}}" alt="Main Picture">
                          <a href="{{ $newsItem.link.text }}" class="py-2 px-3 text-white text-decoration-none">
                            {{ $newsItem.title.text }}
                          </a>
                          <div class="news-overlay">
                            <div class="featured-news-content">
                              <div class="featured-news-date">{{ $newsItem.title.text }}</div>
                              <h1 class="featured-news-heading">
                                <a href="{{ $newsItem.link.text }}" class="text-white text-decoration-none">{{ $newsItem.title.text }}</a>
                              </h1>
                            </div>
                          </div>
                        </div>
                      </div>
                    {{ end }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
</div>
