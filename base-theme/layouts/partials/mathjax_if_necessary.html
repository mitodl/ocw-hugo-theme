{{ $mathjaxUrl := partial "get_js_file_webpack_url.html" (dict "context" . "webpackData" .webpackData "pattern" "tex-svg\\.[a-zA-Z0-9]+\\.js") }}
{{ $context := .context }}
{{ with findRE `\\\(.*?\\\)|\\[.*?\\]` .context.Page.Content 1 }}
<script>
  window.MathJax = {
      TeX: {
        equationNumbers: {
          autoNumber: "AMS"
        }
      },
      displayAlign: "left",
      displayIndent: "2em",
      menuSettings: {
        zoom: "Double-Click",
        mpContext: true,
        mpMouse: true
      },
      errorSettings: {
        message: ["[Math Error]"]
      }
    }
</script>
<script src="{{ partial "webpack_url.html" (dict "context" $context "url" $mathjaxUrl) }}" defer></script>
{{ end }}