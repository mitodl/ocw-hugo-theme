{{- $courseData := .Site.Data.course -}}
{{- $instructors := slice -}}
{{- if not (or (eq $courseData.instructors nil) (eq $courseData.instructors.content nil)) -}}
{{- $instructors = partial "get_instructors.html" $courseData.instructors.content  -}}
{{- end -}}

{
  "course_title": {{- $courseData.course_title | jsonify -}},
  "course_description": {{- $courseData.course_description | jsonify -}},
  "site_uid": {{- $courseData.site_uid | jsonify -}},
  "legacy_uid": {{- $courseData.legacy_uid | jsonify -}},
  "instructors": [
  {{- range $index, $instructor := $instructors -}}
  {{- if $index -}}
    ,  
  {{- end -}}
  {
    "first_name":  {{- $instructor.first_name | jsonify -}},
    "last_name":  {{- $instructor.last_name | jsonify -}},
    "middle_initial":  {{- $instructor.middle_initial | jsonify -}},
    "salutation":  {{- $instructor.salutation | jsonify -}},
    "title":  {{- $instructor.title | jsonify -}}
  }
  {{- end }}],
  "department_numbers": {{- $courseData.department_numbers | jsonify -}},
  "learning_resource_types": {{- $courseData.learning_resource_types | jsonify -}},
  "topics": {{- $courseData.topics | jsonify -}},
  "primary_course_number": {{- $courseData.primary_course_number | jsonify -}},
  "extra_course_numbers":  {{- $courseData.extra_course_numbers | jsonify -}},
  "term":  {{- $courseData.term | jsonify -}},
  "year":  {{- $courseData.year | jsonify -}},
  "level":  {{- $courseData.level | jsonify -}}
}

