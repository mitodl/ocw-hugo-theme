{{ $instructors := slice }}
{{ range . }}
  {{ $staticApiBaseUrl := getenv "STATIC_API_BASE_URL" }}
  {{ with resources.GetRemote (print (strings.TrimSuffix "/" $staticApiBaseUrl) "/instructors/" . "/index.json") }}
    {{ if not .Err }}
      {{ $data := (. | unmarshal).data }}
      {{ $instructor := merge $data (dict "url" (print "/search?" (querify "q" $data.title))) }}
      {{ $instructors = $instructors | append $instructor }}
    {{ end }}
  {{ end }}
{{ end }}
{{ return $instructors }}